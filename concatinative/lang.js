/*
 *	Concatinate URL Language
 *
 * 	This document defines the yet nameless 
 *  concatinative language for interpolation
 *  in URLs (or URI's?)
 *
 *	Author: Reed Spool
 *  Begin date: 12/11/2013
 * 
 *  License: TBD
 */
var Parser = require('./parser.js'),
	Utility = require('./lang-utility.js'),
	Evaluator = require('./evaluator.js'),
	log = Utility.log;

module.exports = {
	resolve: resolve
};


// Testing paths to see what URI encoding does:
// Tested Url:
// http://localhost:3000/forward_slash/changes%20to/right/slash/wefawe$@@!@/w23@!/2/43/@/$//5E/&*()-+%20%5E;a.a,a/'%22double/quote%7Cpipe~%60backtick
// 
// Path in Node:
// /forward_slash/changes%20to/right/slash/wefawe$@@!@/w23@!/2/43/@/$//5E/&*()-+%20%5E;a.a,a/\'%22double/quote%7Cpipe~%60backtick

function resolve(input, body) {
	return Parser.parse(input, body)
		.then(Evaluator.execute)
}